(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,c){},129:function(e,t,c){},130:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(59),s=c.n(r),i=(c(67),c(10)),o=c(4),l=(c(68),c(20)),j=(c(69),c(70),c(0)),b=function(e){var t=e.variant,c=e.backgroundColor,n=e.size,a=e.children,r=e.type,s=e.onClick;return Object(j.jsx)("button",{type:r,className:["button","button--".concat(n),"button--".concat(t)].join(" "),style:c&&{backgroundColor:c},onClick:s,children:a})};b.defaultProps={backgroundColor:null,primary:!1,size:"medium"};var d=function(e){var t=e.error;return t&&Object(j.jsxs)("div",{className:"error-alert",children:["Error: ",t.message]})},u=c(17),m=c.n(u),h=c(27),O=c(60),x=c.n(O);var g="http://localhost:8080",p=new Headers;function f(e,t,c){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(m.a.mark((function e(t,c,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(204!==(a=e.sent).status){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,a.json();case 8:if(!(r=e.sent).error){e.next=11;break}return e.abrupt("return",Promise.reject({message:r.error}));case 11:return e.abrupt("return",r.data);case 14:if(e.prev=14,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=19;break}throw console.error(e.t0.stack),e.t0;case 19:return e.abrupt("return",Promise.resolve(n));case 20:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function k(){return(k=Object(h.a)(m.a.mark((function e(t,c){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL("".concat(g,"/users/register")),e.next=3,f(n,{method:"POST",headers:p,signal:c,body:JSON.stringify({data:t})},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(h.a)(m.a.mark((function e(t,c,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x.a.put("".concat(g,"/users/login"),{data:t}).then((function(e){if(e.data.user)return c(e.data.user,!0),console.log("logged in"),localStorage.setItem("currentUser",JSON.stringify(e.data.user)),localStorage.setItem("accessToken",e.data.accessToken),e.data;n(e.data),console.log(e.data)})).catch((function(e){n(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){var t=e.updateUser,c=Object(n.useState)(Object(i.a)({},{email:"",password:"password"})),a=Object(o.a)(c,2),r=a[0],s=a[1],u=Object(n.useState)(null),m=Object(o.a)(u,2),h=m[0],O=m[1],x=function(e){var t=e.target;s(Object(i.a)(Object(i.a)({},r),{},Object(l.a)({},t.name,t.value)))},g=function(e){O(e)};return Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{error:h}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,c){N.apply(this,arguments)}(r,t,g)},children:[Object(j.jsxs)("label",{htmlFor:"email",children:["Email:",Object(j.jsx)("input",{id:"email",type:"email",name:"email",onChange:x,value:r.email})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{htmlFor:"password",children:["Password:",Object(j.jsx)("input",{id:"password",type:"text",name:"password",onChange:x,value:r.password})]}),Object(j.jsx)("br",{}),Object(j.jsx)(b,{type:"submit",variant:"pixel",backgroundColor:"midnightblue",children:"Login"})]})]})}p.append("Content-Type","application/json");var y=c(9);function S(e){var t=e.updateUser;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsx)("h1",{children:" Login "}),Object(j.jsx)(w,{updateUser:t}),Object(j.jsx)(y.b,{to:"/register",children:"Sign up"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{className:"foot",children:Object(j.jsx)(y.b,{to:"/about",children:"About"})})]})}function C(){var e=Object(n.useState)(Object(i.a)({},{username:"username",password:"password",email:"",coins:100})),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(null),s=Object(o.a)(r,2),u=s[0],m=s[1],h=function(e){var t=e.target;a(Object(i.a)(Object(i.a)({},c),{},Object(l.a)({},t.name,t.value)))};return Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{error:u}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t){return k.apply(this,arguments)}(c).catch((function(e){m(e)}))},children:[Object(j.jsxs)("label",{htmlFor:"username",children:["Username:",Object(j.jsx)("input",{id:"username",type:"text",name:"username",onChange:h,value:c.username})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{htmlFor:"password",children:["Password:",Object(j.jsx)("input",{id:"password",type:"text",name:"password",onChange:h,value:c.password})]}),Object(j.jsx)("br",{}),Object(j.jsxs)("label",{htmlFor:"email",children:["Email:",Object(j.jsx)("input",{id:"email",type:"email",name:"email",onChange:h,value:c.email})]}),Object(j.jsx)("br",{}),Object(j.jsx)(b,{type:"submit",variant:"pixel",backgroundColor:"midnightblue",children:"Submit"})]})]})}function U(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"top-spacer"}),Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsx)("h1",{children:"Registration"}),Object(j.jsx)(C,{}),Object(j.jsx)(y.b,{to:"/",children:"Cancel"})]})]})}var L=c(26);c(97);function P(e){e.name;var t=e.imgUrl;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"card",style:{backgroundImage:"url(".concat(t,")"),backgroundSize:"contain"}})})}c(98);var I=c(62),A=c.n(I).a.connect("http://localhost:8080/"),R=a.a.createContext();c(128);function E(e){var t=e.gameState,c=e.nextRound;return Object(j.jsx)("div",{className:"modal",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsx)("div",{children:"WIN"===t?Object(j.jsx)("h1",{children:"Player 1 Won!!!"}):Object(j.jsx)("h1",{children:"Dealer Wins"})}),Object(j.jsxs)("div",{className:"modal-buttons",children:[Object(j.jsx)(L.Link,{to:"/",children:Object(j.jsx)(b,{variant:"pixel",size:"small",backgroundColor:"midnightblue",children:"LEAVE"})}),Object(j.jsx)(b,{variant:"pixel",backgroundColor:"orange",onClick:c,children:"NEXT ROUND"})]})]})})}function F(e){var t=e.roomNumber,c=void 0===t?0:t,a=e.currentUser,r=Object(n.useState)(c),s=Object(o.a)(r,2),i=s[0],l=(s[1],Object(n.useState)(a)),d=Object(o.a)(l,2),u=d[0],m=(d[1],Object(n.useState)([])),h=Object(o.a)(m,2),O=h[0],x=h[1],g=Object(n.useState)([]),p=Object(o.a)(g,2),f=p[0],v=p[1],k=Object(n.useState)("INPLAY"),N=Object(o.a)(k,2),w=N[0],y=N[1],S=Object(n.useState)(!1),C=Object(o.a)(S,2),U=C[0],I=C[1],A=Object(n.useState)(""),F=Object(o.a)(A,2),H=F[0],T=F[1],J=Object(n.useContext)(R);Object(n.useEffect)((function(){return console.log("current user data: ",u),console.log("current username: ",u.username),J.emit("newGame",{username:u.username,roomNum:i}),J.on("loadUserCoins",(function(e){console.log("current user coin balance: ",e),T((function(t){return e}))})),J.on("betPlaced",(function(){console.log("Bet Successful"),U||(I(!0),J.emit("deal",i))})),J.on("deal",(function(e,t){x(e),v(t)})),J.on("hit",(function(e,t){x(e),y(t)})),J.on("dealerHit",(function(e){v(e)})),J.on("stand",(function(e){y(e)})),function(){J.off("betPlaced"),J.off("deal"),J.off("hit"),J.off("dealerHit"),J.off("hit")}}),[J]);return Object(j.jsxs)("div",{className:"table-background",children:[Object(j.jsx)("div",{className:"topbar",children:Object(j.jsx)(L.Link,{to:"/",children:Object(j.jsx)(b,{variant:"pixel",size:"tiny",backgroundColor:"midnightblue",children:"Home"})})}),"INPLAY"!=w?Object(j.jsx)(E,{gameState:w,nextRound:function(){I(!1),x([]),v([]),y("INPLAY"),J.emit("nextRound",i)}}):"",Object(j.jsxs)("div",{className:"table-container--top",children:[Object(j.jsx)("h2",{children:"---Dealer---"}),Object(j.jsx)("div",{className:"container--playerHand",children:f.map((function(e){return Object(j.jsx)(P,{card:e.name,imgUrl:e.imgUrl},e.name)}))})]}),Object(j.jsx)("div",{className:"table-container--mid",children:U?Object(j.jsxs)("div",{className:"mid--deck",children:[Object(j.jsx)(b,{variant:"pixel",backgroundColor:"midnightblue",onClick:function(){console.log("Room on hit",i),J.emit("hit",i)},children:"Hit"}),Object(j.jsx)("div",{className:"spacer"}),Object(j.jsx)("img",{src:"/img/coin_pile.gif"})]}):Object(j.jsx)("div",{className:"mid--pot",children:Object(j.jsx)(b,{variant:"pixel",backgroundColor:"orange",onClick:function(){J.emit("bet",10,i)},children:"Place Bet"})})}),Object(j.jsxs)("div",{className:"table-container--bottom",children:[Object(j.jsx)("h2",{children:"---Player---"}),Object(j.jsx)("div",{className:"container--playerHand",children:O.map((function(e){return Object(j.jsx)(P,{card:e.name,imgUrl:e.imgUrl},e.name)}))}),U?Object(j.jsx)(b,{variant:"pixel",backgroundColor:"midnightblue",onClick:function(){J.emit("stand",i)},children:"Stand"}):Object(j.jsx)(j.Fragment,{})]}),Object(j.jsxs)("div",{className:"bottombar",children:[Object(j.jsx)("img",{src:"/img/coin.png"}),Object(j.jsxs)("h1",{children:["X ",H]})]})]})}var H=c(2);function T(e){var t=e.name,c=e.updateUser;return Object(j.jsxs)("div",{className:"form-wrapper",children:[Object(j.jsxs)("h1",{className:"welcome",children:[" Welcome ",t," "]}),Object(j.jsx)("br",{}),Object(j.jsx)(y.b,{to:"/game",children:Object(j.jsx)(b,{variant:"pixel",backgroundColor:"orange",children:"Game Start"})}),Object(j.jsx)("br",{}),Object(j.jsx)(b,{onClick:function(){!function(e){localStorage.removeItem("currentUser"),localStorage.removeItem("accessToken"),e({currentUser:{}},!1)}(c)},variant:"pixel",backgroundColor:"midnightblue",children:"Logout"})]})}c(129);function J(e){return Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(y.b,{to:"/",className:"back",children:Object(j.jsx)(b,{size:"tiny",backgroundColor:"orange",children:"Back"})}),Object(j.jsx)("div",{className:"top-spacer"}),Object(j.jsx)("h1",{children:"About Project"}),Object(j.jsx)("div",{className:"text-block",children:"A pixel-themed head to head blackjack game. It's a fullstack project developed over one week for the Mintbean Hackathon July 2021."}),Object(j.jsx)("h1",{children:"Tech Stack"}),Object(j.jsx)("div",{className:"text-block",children:"BlackJack Showdown was devleoped using NodeJS, Express on the backend and React on the front end. We've used PostgreSQL for our database and deployed on Heroku."}),Object(j.jsx)("div",{className:"text-block",children:"Other libraries we've used are bcrypt for hashing passwords,jsonwebtoken for login, knex to access the database, storybook for modular developement and socket.io for real-time and capacity for multiplayer."}),Object(j.jsxs)("div",{className:"icons",children:[Object(j.jsx)("img",{src:"/img/tech/postgresql.png"}),Object(j.jsx)("img",{src:"/img/tech/express.png"}),Object(j.jsx)("img",{src:"/img/tech/react.png"})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:"Team"}),Object(j.jsxs)("div",{className:"members",children:[Object(j.jsxs)("div",{className:"single",children:[Object(j.jsx)("img",{src:"/img/about/dice.png"}),Object(j.jsx)("div",{className:"title",children:"Evelyn Yoa"}),Object(j.jsx)("div",{className:"desc",children:"A Jr. Dev with a background in VFX animation. Recently graduated from Lighthouse Labs fullstack web development bootcamp."}),Object(j.jsxs)("div",{className:"social-icon-container",children:[Object(j.jsx)("a",{href:"https://github.com/eyoa",children:Object(j.jsx)("img",{className:"social-icon",src:"/img/about/GitHub-Mark-64px.png"})}),Object(j.jsx)("a",{href:"https://www.linkedin.com/in/evelyn-yoa/",children:Object(j.jsx)("img",{className:"social-icon",src:"/img/about/linkedin_icon.png"})})]})]}),Object(j.jsxs)("div",{className:"single",children:[Object(j.jsx)("img",{src:"/img/about/guy.png"}),Object(j.jsx)("div",{className:"title",children:"Alvin Lin"}),Object(j.jsx)("div",{className:"desc",children:"A recent graduate from Lighthouse Labs."}),Object(j.jsxs)("div",{className:"social-icon-container",children:[Object(j.jsx)("a",{href:"https://github.com/Chase78712002",children:Object(j.jsx)("img",{className:"social-icon",src:"/img/about/GitHub-Mark-64px.png"})}),Object(j.jsx)("a",{href:"https://www.linkedin.com/in/alvin-lin-6933b39a/",children:Object(j.jsx)("img",{className:"social-icon",src:"/img/about/linkedin_icon.png"})})]})]}),Object(j.jsxs)("div",{className:"single",children:[Object(j.jsx)("img",{src:"/img/about/dice.png"}),Object(j.jsx)("div",{className:"title",children:"Audrey Plath"}),Object(j.jsx)("div",{className:"desc",children:"A recent graduate from name? bootcamp."}),Object(j.jsxs)("div",{className:"social-icon-container",children:[Object(j.jsx)("a",{href:"https://github.com/AudreyMargolis",children:Object(j.jsx)("img",{className:"social-icon",src:"/img/about/GitHub-Mark-64px.png"})}),Object(j.jsx)("a",{href:""})]})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("h1",{children:"Credits"}),Object(j.jsxs)("div",{className:"text-block",children:["Thanks to Cazwolf for the pretty card images."," "]})]})}var z=function(){var e=Object(n.useState)({currentUser:{username:""},isLoggedIn:!1}),t=Object(o.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));console.log(e),e&&r(e,!0)}),[]);var r=function(e,t){a(Object(i.a)(Object(i.a)({},c),{},{currentUser:e,isLoggedIn:t}))};return Object(j.jsx)(R.Provider,{value:A,children:Object(j.jsx)(y.a,{children:Object(j.jsxs)(H.Switch,{children:[Object(j.jsx)(H.Route,{exact:!0,path:"/",children:Object(j.jsxs)("div",{className:"main",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"main-title",children:"BlackJack"}),Object(j.jsx)("h1",{className:"main-title",children:"Showdown"})]}),Object(j.jsx)("div",{children:c.isLoggedIn?Object(j.jsx)(T,{name:c.currentUser.username,updateUser:r}):Object(j.jsx)(S,{updateUser:r})})]})}),Object(j.jsx)(H.Route,{path:"/register",children:Object(j.jsx)("div",{className:"main",children:Object(j.jsx)(U,{})})}),Object(j.jsx)(H.Route,{path:"/game",children:Object(j.jsx)(F,{room:0,currentUser:c.currentUser})}),Object(j.jsx)(H.Route,{path:"/about",children:Object(j.jsx)(J,{})})]})})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,131)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(z,{})}),document.getElementById("root")),B()},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){}},[[130,1,2]]]);
//# sourceMappingURL=main.8ae3e8c8.chunk.js.map